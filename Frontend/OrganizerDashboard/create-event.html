<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Create Event</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel=”stylesheet”
    href=”https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css”/>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css"
    />
  </head>
  <body>
    <div class="container">
      <header class="header">
        <div class="navbar">
          <ul class="nav-list">
            <li class="nav-title">
              <a href="./organizer.html" class="nav-title-name">Event Ease</a>
            </li>
            <li><a href="./create-event.html">Create Event</a></li>
            <li><a href="#subscription">Completed Event</a></li>
            <li><a href="#testimonials">Live</a></li>
            <li><a href="#footer-section">Contact Us</a></li>
            <li class="nav-icon-1">
              <i class="bi bi-person-circle user-icon"></i>
            </li>
          </ul>
        </div>
      </header>
      <div class="event-ease-intro">
        <div class="event-ease-heading-primary">
          <h1 class="event-ease-heading-primary-title">We are Event EASE</h1>
        </div>
        <div class="event-ease-heading-secondary">
          <h2 class="event-ease-heading-secondary-line">We Bring</h2>
          <h2 class="event-ease-heading-secondary-line">
            YOUR EVENT MANAGEMENT EASE
          </h2>
          <h2 class="event-ease-heading-secondary-line">to life!</h2>
        </div>
      </div>
      <div class="create-event-form">
        <h1 class="form-title">Start with Creating New Event</h1>

        <form
          id="create-event-form"
          enctype="multipart/form-data"
          method="post"
        >
          <!-- Event Title -->
          <label for="eventTitle">Event Title</label>
          <input
            type="text"
            id="eventTitle"
            name="title"
            placeholder="Enter event title"
            required
          />

          <!-- Event Description -->
          <label for="eventDescription">Event Description</label>
          <textarea
            id="eventDescription"
            name="description"
            placeholder="Enter event description"
            required
          ></textarea>

          <!-- Event Date -->
          <label for="eventDate">Event Date</label>
          <input type="date" id="eventDate" name="date" required />

          <!-- Start Time -->
          <label for="startTime">Start Time (24-hour format)</label>
          <input type="time" id="startTime" name="startTime" required />

          <!-- End Time -->
          <label for="endTime">End Time (24-hour format)</label>
          <input type="time" id="endTime" name="endTime" required />

          <!-- Event Type -->
          <label for="eventType">Type</label>
          <select id="eventType" name="type" required>
            <option value="online">Online</option>
            <option value="in-person">In-person</option>
          </select>

          <!-- Event Location -->
          <label for="eventLocation">Location</label>
          <input
            type="text"
            id="eventLocation"
            name="location"
            placeholder="https://meet.jit.si/<your room name>"
            required
          />

          <!-- Thumbnail Upload -->
          <label for="eventThumbnail">Upload Thumbnail (Optional)</label>
          <input
            type="file"
            id="eventThumbnail"
            name="thumbnail"
            accept="image/*"
          />

          <!-- Submit Button -->
          <button type="submit" class="submit-button">Create Event</button>
        </form>
      </div>
    </div>

    <script src="organizer.js"></script>
    <script>
      const eventDateInput = document.getElementById("eventDate");
      const today = new Date().toISOString().split("T")[0];
      eventDateInput.setAttribute("min", today);

      const startTimeInput = document.getElementById("startTime");
      const endTimeInput = document.getElementById("endTime");

      eventDateInput.addEventListener("change", function () {
        const selectedDate = new Date(this.value);
        const currentDate = new Date(today);
        if (selectedDate < currentDate) {
          alert("Event date cannot be in the past.");
          this.value = "";
        }
      });

      startTimeInput.addEventListener("input", function () {
        const startTime = this.value;
        if (!startTime) {
          endTimeInput.value = "";
          endTimeInput.disabled = true;
        } else {
          endTimeInput.disabled = false;
          endTimeInput.setAttribute("min", startTime);
        }
      });

      // Function to validate the end time
      endTimeInput.addEventListener("input", function () {
        const startTime = startTimeInput.value;
        const endTime = this.value;

        if (!startTime) {
          alert("Please select a start time before choosing an end time.");
          this.value = "";
          return;
        }

        if (endTime <= startTime) {
          alert("End time must be after the start time.");
          this.value = "";
        }
      });
    </script>
  </body>
</html>
